<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chuy·∫øn t√†u Kinh Th√°nh</title>
<style>
  body { font-family: Arial, sans-serif; background: #f0f8ff; text-align: center; padding: 20px; }
  h1 { color: #333; }
  .track { margin: 20px auto; width: 90%; max-width: 600px; background: #ddd; border-radius: 10px; padding: 10px; }
  .train { display: inline-block; width: 40px; height: 40px; border-radius: 5px; margin: 0 5px; line-height: 40px; color: white; font-weight: bold; }
  #train1 { background: #e74c3c; }
  #train2 { background: #3498db; }
  .controls { margin: 20px; }
  button { font-size: 16px; padding: 10px 15px; margin: 5px; border-radius: 5px; cursor: pointer; }
  #message { margin: 15px; font-size: 18px; min-height: 30px; color: #555; }
</style>
</head>
<body>
<h1>Chuy·∫øn t√†u Kinh Th√°nh</h1>
<div class="track" id="track1"></div>
<div class="track" id="track2"></div>

<div class="controls">
  <div>
    <strong>ƒê·ªôi 1 (ƒê·ªè)</strong><br />
    <button onclick="moveTrain(1, 2)">Ti·∫øn l√™n 2 b∆∞·ªõc</button>
    <button onclick="moveTrain(1, -2)">L√πi l·∫°i 2 b∆∞·ªõc</button>
  </div>
  <div style="margin-top:15px;">
    <strong>ƒê·ªôi 2 (Xanh)</strong><br />
    <button onclick="moveTrain(2, 2)">Ti·∫øn l√™n 2 b∆∞·ªõc</button>
    <button onclick="moveTrain(2, -2)">L√πi l·∫°i 2 b∆∞·ªõc</button>
  </div>
</div>

<div id="message"></div>

<script>
  const maxSteps = 15;
  const trackLength = maxSteps + 1;
  let positions = [0, 0];
  let movesCount = 0;

  function createTrack(trackId, trainId) {
    const track = document.getElementById(trackId);
    track.innerHTML = '';
    for(let i=0; i < trackLength; i++) {
      const block = document.createElement('div');
      block.classList.add('train');
      block.id = trainId + '_block_' + i;
      block.textContent = (i === positions[trainId -1]) ? 'üöÇ' : '';
      track.appendChild(block);
    }
  }

  function updateTracks() {
    createTrack('track1', 'train1');
    createTrack('track2', 'train2');
  }

  function moveTrain(team, step) {
    if (movesCount >= maxSteps) {
      showMessage('ƒê√£ h·∫øt l∆∞·ª£t ch∆°i!');
      return;
    }

    let posIndex = team - 1;
    let newPos = positions[posIndex] + step;

    if (newPos < 0) newPos = 0;
    if (newPos > maxSteps) newPos = maxSteps;

    positions[posIndex] = newPos;
    movesCount++;

    updateTracks();

    showMessage(`ƒê·ªôi ${team} di chuy·ªÉn ${step > 0 ? 'ti·∫øn' : 'l√πi'} ${Math.abs(step)} b∆∞·ªõc. L∆∞·ª£t ch∆°i: ${movesCount}/${maxSteps}`);

    if (positions[posIndex] === maxSteps) {
      showMessage(`üéâ ƒê·ªôi ${team} ƒë√£ v·ªÅ ƒë√≠ch v√† chi·∫øn th·∫Øng! üéâ`);
      disableButtons();
    }
  }

  function showMessage(msg) {
    document.getElementById('message').textContent = msg;
  }

  function disableButtons() {
    const buttons = document.querySelectorAll('button');
    buttons.forEach(btn => btn.disabled = true);
  }

  window.onload = updateTracks;
</script>
</body>
</html>
